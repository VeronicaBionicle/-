#include <io.h>
#include <90s8515.h> 

int x;

interrupt [EXT_INT0] void button (void){
x = PINA.0 + 2*PINA.1 + 4*PINA.2 + 8*PINA.3;
switch(x){
 case 0: PORTC = 0b00000000; break; // А  код 0000
 case 1: PORTC = 0b00000001; break; // И  код 0001
 case 2: PORTC = 0b00000010; break; // О  код 001.
 case 3: PORTC = 0b00001100; break; // Н  код 11..
 case 4: PORTC = 0b00000100; break; // Р  код 0100
 case 5: PORTC = 0b00000101; break; // В  код 0101 
 case 6: PORTC = 0b00001010; break; // Е  код 101.
 case 7: PORTC = 0b00000110; break; // Ю  код 011.
 case 8: PORTC = 0b00001000; break; // К  код 100.
 default: break;
};
};

void main(void)
{
DDRD.0 = 0;
PORTD.0 = 1;
PORTD.2 = 1;
DDRC = 0b00001111;
DDRA = 0b00000000;
PORTA = 0b00001111; 
GIFR |= (1<<INT0);
GIMSK |= (1<<INT0);
MCUCR |= (0<<ISC01)|(0<<ISC00);
#asm("sei")
while (1){}
}

